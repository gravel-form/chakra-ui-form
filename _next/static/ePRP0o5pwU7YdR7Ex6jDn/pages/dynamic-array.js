(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"44GD":function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dynamic-array",function(){return t("TWTi")}])},TWTi:function(n,e,t){"use strict";t.r(e);var a=t("q1tI"),r=t("xS4D"),o=a.createElement;e.default=function(){return o(r.a,{code:"const {\n  ExtraPropsMw\n} = GravelFormCore;\nconst _ = Lodash;\nconst { Button, Stack, Box } = ChakraUiCore;\nconst ExampleDynamicArrayMw = (props) => {\n  const {\n    schema,\n    data,\n    next,\n    MiddlewareComponent,\n    schemaPath,\n    dataPath,\n    formProps,\n    onChange,\n    extraProps,\n    errors,\n    onSubmit,\n  } = props;\n\n  if (typeof schema === 'boolean' || schema.type !== 'array' || !schema.items || Array.isArray(schema.items))\n    return next(props);\n\n  const schemaItems = schema.items;\n  const dataItems = Array.isArray(data) ? data : [];\n\n  return (\n    <>\n      {dataItems.map((item, index) => {\n        return (\n          <Box d=\"flex\" alignItems=\"baseline\">\n            <MiddlewareComponent\n              key={index}\n              schema={schemaItems}\n              data={item}\n              onChange={(newItem) =>\n                onChange([...dataItems.slice(0, index), newItem, ...dataItems.slice(index + 1)])\n              }\n              parent={props}\n              schemaPath={[...schemaPath, 'items']}\n              dataPath={[...dataPath, index]}\n              next={() => null}\n              formProps={formProps}\n              MiddlewareComponent={MiddlewareComponent}\n              {...{ extraProps: _.get(extraProps, 'items'), errors, onSubmit }}\n            />\n            <Button\n              px=\"2\"\n              onClick={(e) => {\n                e.preventDefault();\n                onChange(dataItems.filter((_, i) => i !== index));\n              }}\n            >\n              X\n            </Button>\n          </Box>\n        );\n      })}\n      {\n        <Button\n          onClick={(e) => {\n            e.preventDefault();\n            onChange([...dataItems, {}]);\n          }}\n          style={{ width: '100%' }}\n        >\n          + Add Item\n        </Button>\n      }\n    </>\n  );\n};\n\nconst schema = {\n  title: 'A simple dynamic array form',\n  type: 'array',\n  items: {\n    type: 'object',\n    properties: {\n      firstName: {\n        type: 'string',\n        title: 'First name',\n      },\n      lastName: {\n        type: 'string',\n        title: 'Last name',\n      },\n    },\n  },\n};\n\nconst middlewares = [\n  FormDataViewerMw,\n  ExtraPropsMw,\n  ExampleDynamicArrayMw,\n  ...schemaMws,\n  FormControlTemplateMw,\n  FormControlLabelMw,\n  InputMw,\n  NotSupportedMw,\n];\n\nrender(<Form defaultData={[{ firstName: 'Jhon', lastName: 'Smith' }]} schema={schema} middlewares={middlewares} />);\n"})}}},[["44GD",0,1,3,5,4,2,6]]]);